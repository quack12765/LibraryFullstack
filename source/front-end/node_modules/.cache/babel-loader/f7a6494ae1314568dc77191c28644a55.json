{"remainingRequest":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\src\\views\\AccountSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\src\\views\\AccountSetting.vue","mtime":1658223723838},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2l0eXM6IFtdLAogICAgICByZWdpb25zOiBbXSwKICAgICAgc2VsZWN0ZWRfY2l0eTogIiIsCiAgICAgIGFjY291bnRfaW5mbzoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvYWNjb3VudHMvZ2V0QWNjb3VudEluZm9CeUFjY291bnQnLCB7CiAgICAgIGRhdGE6IHsKICAgICAgICBhY2NvdW50OiB0aGlzLmFjY291bnQKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmFjY291bnRfaW5mbyA9IHJlcy5kYXRhWzBdOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICB9KTsKICAgIHRoaXMuJGh0dHAucG9zdCgnL2FwaS9sb2NhdGlvbi9nZXRDaXR5TGlzdCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5jaXR5cyA9IHJlcy5kYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIEhhbmRsZVNhdmVBY2NvdW50SW5mbzogZnVuY3Rpb24gSGFuZGxlU2F2ZUFjY291bnRJbmZvKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmFjY291bnRfaW5mby5zZXgpOwogICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvYWNjb3VudHMvc2F2ZUFjY291bnRJbmZvJywgewogICAgICAgIGRhdGE6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5hY2NvdW50X2luZm8pLCB7fSwgewogICAgICAgICAgYWNjb3VudDogdGhpcy5hY2NvdW50CiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgYWxlcnQoIuWEsuWtmOaIkOWKnyIpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGFsZXJ0KCLlhLLlrZjlpLHmlZciKTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgR2V0UmVnaW9uTGlzdDogZnVuY3Rpb24gR2V0UmVnaW9uTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvbG9jYXRpb24vZ2V0UmVnaW9uTGlzdCcsIHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBjaXR5OiB0aGlzLnNlbGVjdGVkX2NpdHkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5yZWdpb25zID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICJhY2NvdW50X2luZm8uY2l0eSI6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLkdldFJlZ2lvbkxpc3QoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"sources":["AccountSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GARA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,SAAA,KAAA,CACA,IADA,CACA,uCADA,EACA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA;AADA;AADA,KADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,KARA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AAAA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AAAA,KATA;AAWA,SAAA,KAAA,CACA,IADA,CACA,2BADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AAAA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AAAA,KALA;AAMA,GA5BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,qBADA,mCACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA,CAAA,GAAA;AACA,WAAA,KAAA,CACA,IADA,CACA,+BADA,EACA;AACA,QAAA,IAAA,kCACA,KAAA,YADA;AAEA,UAAA,OAAA,EAAA,KAAA;AAFA;AADA,OADA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,CAAA,MAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAdA;AAeA,KAlBA;AAmBA,IAAA,aAnBA,2BAmBA;AAAA;;AACA,WAAA,KAAA,CACA,IADA,CACA,6BADA,EACA;AACA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,OARA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AAAA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AAAA,OATA;AAUA;AA9BA,GA9BA;AA+DA,EAAA,KAAA,EAAA;AACA,yBAAA;AACA,MAAA,OADA,qBACA;AACA,aAAA,aAAA;AACA,OAHA;AAIA,MAAA,IAAA,EAAA;AAJA;AADA;AA/DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <h3>修改個人資料</h3>\r\n        <form class=\"mt-4\">\r\n            <div class=\"form-group row\">\r\n                <label for=\"email\" class=\"col-sm-2 col-form-label\">Email</label>\r\n                <div class=\"col-sm-10\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"email\"\r\n                            v-model=\"account_info.email\"\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label for=\"name\" class=\"col-sm-2 col-form-label\">姓名</label>\r\n                <div class=\"col-sm-10\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"name\"\r\n                            v-model=\"account_info.name\"\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-2 col-form-label\">性別</label>\r\n                <div class=\"col-sm-10\">\r\n                    <div class=\"form-check form-check-inline\">\r\n                        <input class=\"form-check-input\" type=\"radio\" id=\"RadioMale\" value=1 name=\"sex\" \r\n                            :checked=\" account_info.sex === 1 \" v-model=\"account_info.sex\">\r\n                        <label class=\"form-check-label\" for=\"RadioMale\">Male</label>\r\n                    </div>\r\n                    <div class=\"form-check form-check-inline\">\r\n                        <input class=\"form-check-input\" type=\"radio\" id=\"RadioFeMale\" value=2 name=\"sex\" \r\n                            :checked=\" account_info.sex === 2 \" v-model=\"account_info.sex\">\r\n                        <label class=\"form-check-label\" for=\"RadioFeMale\">Female</label>\r\n                    </div>\r\n                    <div class=\"form-check form-check-inline\">\r\n                        <input class=\"form-check-input\" type=\"radio\" id=\"RadioOther\" value=3 name=\"sex\" \r\n                            :checked=\" account_info.sex === 3 \" v-model=\"account_info.sex\">\r\n                        <label class=\"form-check-label\" for=\"RadioOther\">Other</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label for=\"phone\" class=\"col-sm-2 col-form-label\">行動電話</label>\r\n                <div class=\"col-sm-10\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"phone\"\r\n                        v-model=\"account_info.phone\"\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label for=\"address\" class=\"col-sm-2 col-form-label\">聯絡地址</label>\r\n                <div class=\"col-sm-10\">\r\n                    <div class=\"form-row\">\r\n                        <div class=\"form-group col-md-2 form-inline\">\r\n                            <select class=\"form-control\" v-model=\"account_info.city\">\r\n                                <option v-for=\"city in citys\" :key=\"city.name\" >{{ city.name }}</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"form-group col-md-2 form-inline\">\r\n                            <select class=\"form-control\" v-model=\"account_info.region\">\r\n                                <option v-for=\"region in regions\" :key=\"region.name\">{{ region.name }}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <input type=\"text\" class=\"form-control\" id=\"address\"\r\n                        v-model=\"account_info.address\"\r\n                    >\r\n                </div>\r\n            </div>\r\n            <button @click.prevent=\"HandleSaveAccountInfo\" class=\"btn btn-primary\">確定修改</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            citys: [],\r\n            regions: [],\r\n            selected_city: \"\",\r\n            account_info: {},\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.$http\r\n            .post('/api/accounts/getAccountInfoByAccount', { \r\n                data: {\r\n                    account: this.account \r\n                }\r\n            })\r\n            .then(res => {\r\n                this.account_info = res.data[0]\r\n            })\r\n            .catch(e => { console.log(e) })\r\n\r\n        this.$http\r\n            .post('/api/location/getCityList')\r\n            .then(res => {\r\n                this.citys = res.data\r\n            })\r\n            .catch(e => { console.log(e) })\r\n    },\r\n\r\n    methods: {\r\n        HandleSaveAccountInfo() {\r\n            console.log(this.account_info.sex)\r\n            this.$http\r\n                .post('/api/accounts/saveAccountInfo', { \r\n                    data: {\r\n                        ... this.account_info,\r\n                        account: this.account\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    alert(\"儲存成功\")\r\n                    location.reload()\r\n                })\r\n                .catch(e => { \r\n                    alert(\"儲存失敗\")\r\n                    console.log(e) \r\n                })\r\n        },\r\n        GetRegionList(){\r\n            this.$http\r\n                .post('/api/location/getRegionList', { \r\n                    data: {\r\n                        city: this.selected_city \r\n                    }\r\n                })\r\n                .then(res => {\r\n                    this.regions = res.data\r\n                })\r\n                .catch(e => { console.log(e) })\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        \"account_info.city\": {\r\n            handler(){\r\n                this.GetRegionList()\r\n            },\r\n            deep: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/views"}]}