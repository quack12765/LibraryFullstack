{"remainingRequest":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\src\\views\\AccountSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\src\\views\\AccountSetting.vue","mtime":1658374165839},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\library_PROJ\\LibraryFullstack\\source\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgY2l0eXM6IFtdLA0KICAgICAgICAgICAgcmVnaW9uczogW10sDQogICAgICAgICAgICBzZWxlY3RlZF9jaXR5OiAiIiwNCiAgICAgICAgICAgIGFjY291bnRfaW5mbzogew0KICAgICAgICAgICAgICAgIC8vIGNpdHk6ICIiDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQogICAgfSwNCg0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAgICAgLnBvc3QoJy9hcGkvYWNjb3VudHMvZ2V0QWNjb3VudEluZm9CeUFjY291bnQnLCB7IA0KICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogdGhpcy5hY2NvdW50IA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudF9pbmZvID0gcmVzLmRhdGFbMF0NCg0KICAgICAgICAgICAgICAgIC8vIHRoaXMuJHNldCh0aGlzLmFjY291bnRfaW5mbywgImNpdHkiLCB0aGlzLmFjY291bnRfaW5mby5jaXR5KTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGNvbnNvbGUubG9nKGUpIH0pDQoNCiAgICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAgICAgLnBvc3QoJy9hcGkvbG9jYXRpb24vZ2V0Q2l0eUxpc3QnKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmNpdHlzID0gcmVzLmRhdGENCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGNvbnNvbGUubG9nKGUpIH0pDQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgSGFuZGxlU2F2ZUFjY291bnRJbmZvKCkgew0KICAgICAgICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAgICAgICAgIC5wb3N0KCcvYXBpL2FjY291bnRzL3NhdmVBY2NvdW50SW5mbycsIHsgDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLiB0aGlzLmFjY291bnRfaW5mbywNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHRoaXMuYWNjb3VudA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBhbGVydCgi5YSy5a2Y5oiQ5YqfIikNCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsgDQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlhLLlrZjlpLHmlZciKQ0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKSANCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBHZXRSZWdpb25MaXN0KCl7DQogICAgICAgICAgICB0aGlzLiRodHRwDQogICAgICAgICAgICAgICAgLnBvc3QoJy9hcGkvbG9jYXRpb24vZ2V0UmVnaW9uTGlzdCcsIHsgDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IHRoaXMuYWNjb3VudF9pbmZvLmNpdHkgDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaW9ucyA9IHJlcy5kYXRhDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7IGNvbnNvbGUubG9nKGUpIH0pDQogICAgICAgIH0NCiAgICB9LA0KDQogICAgd2F0Y2g6IHsNCiAgICAgICAgJ2FjY291bnRfaW5mby5jaXR5Jzogew0KICAgICAgICAgICAgaGFuZGxlcigpew0KICAgICAgICAgICAgICAgIHRoaXMuR2V0UmVnaW9uTGlzdCgpDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["AccountSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSetting.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"card p-5\">\r\n            <h3>修改個人資料</h3>\r\n            <form class=\"mt-4\">\r\n                <div class=\"form-group row\">\r\n                    <label for=\"email\" class=\"col-sm-2 col-form-label\">Email</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <input type=\"text\" class=\"form-control\" id=\"email\"\r\n                                v-model=\"account_info.email\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"name\" class=\"col-sm-2 col-form-label\">姓名</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <input type=\"text\" class=\"form-control\" id=\"name\"\r\n                                v-model=\"account_info.name\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-sm-2 col-form-label\">性別</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" id=\"RadioMale\" value=1 name=\"sex\" \r\n                                :checked=\" account_info.sex === 1 \" v-model=\"account_info.sex\">\r\n                            <label class=\"form-check-label\" for=\"RadioMale\">Male</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" id=\"RadioFeMale\" value=2 name=\"sex\" \r\n                                :checked=\" account_info.sex === 2 \" v-model=\"account_info.sex\">\r\n                            <label class=\"form-check-label\" for=\"RadioFeMale\">Female</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" id=\"RadioOther\" value=3 name=\"sex\" \r\n                                :checked=\" account_info.sex === 3 \" v-model=\"account_info.sex\">\r\n                            <label class=\"form-check-label\" for=\"RadioOther\">Other</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"phone\" class=\"col-sm-2 col-form-label\">行動電話</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <input type=\"text\" class=\"form-control\" id=\"phone\"\r\n                            v-model=\"account_info.phone\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"address\" class=\"col-sm-2 col-form-label\">聯絡地址</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <div class=\"form-row\">\r\n                            <div class=\"form-group col-md-2 form-inline\">\r\n                                <select class=\"form-control\" v-model=\"account_info.city\">\r\n                                    <option v-for=\"city in citys\" :key=\"city.name\" >{{ city.name }}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group col-md-2 form-inline\">\r\n                                <select class=\"form-control\" v-model=\"account_info.region\">\r\n                                    <option v-for=\"region in regions\" :key=\"region.name\">{{ region.name }}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <input type=\"text\" class=\"form-control\" id=\"address\"\r\n                            v-model=\"account_info.address\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"intro\" class=\"col-sm-2 col-form-label\">自我介紹</label>\r\n                    <div class=\"col-sm-10\">\r\n                        <textarea type=\"textarea\" class=\"form-control\" id=\"intro\" rows=\"3\"\r\n                            v-model=\"account_info.intro\"\r\n                        >\r\n                        </textarea>\r\n                    </div>\r\n                </div>\r\n                <button @click.prevent=\"HandleSaveAccountInfo\" class=\"btn btn-primary\">確定修改</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            citys: [],\r\n            regions: [],\r\n            selected_city: \"\",\r\n            account_info: {\r\n                // city: \"\"\r\n            },\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.$http\r\n            .post('/api/accounts/getAccountInfoByAccount', { \r\n                data: {\r\n                    account: this.account \r\n                }\r\n            })\r\n            .then(res => {\r\n                this.account_info = res.data[0]\r\n\r\n                // this.$set(this.account_info, \"city\", this.account_info.city);\r\n            })\r\n            .catch(e => { console.log(e) })\r\n\r\n        this.$http\r\n            .post('/api/location/getCityList')\r\n            .then(res => {\r\n                this.citys = res.data\r\n            })\r\n            .catch(e => { console.log(e) })\r\n    },\r\n\r\n    methods: {\r\n        HandleSaveAccountInfo() {\r\n            this.$http\r\n                .post('/api/accounts/saveAccountInfo', { \r\n                    data: {\r\n                        ... this.account_info,\r\n                        account: this.account\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    alert(\"儲存成功\")\r\n                    location.reload()\r\n                })\r\n                .catch(e => { \r\n                    alert(\"儲存失敗\")\r\n                    console.log(e) \r\n                })\r\n        },\r\n        GetRegionList(){\r\n            this.$http\r\n                .post('/api/location/getRegionList', { \r\n                    data: {\r\n                        city: this.account_info.city \r\n                    }\r\n                })\r\n                .then(res => {\r\n                    this.regions = res.data\r\n                })\r\n                .catch(e => { console.log(e) })\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        'account_info.city': {\r\n            handler(){\r\n                this.GetRegionList()\r\n            },\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}